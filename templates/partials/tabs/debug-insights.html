<!-- 
  Debug insights tab component for Concierge Chat Analyzer
  Provides detailed analysis of debug data across conversations
-->
<div class="debug-content-wrapper">
    <!-- Global Debug Insights Header -->
    <div class="section-header">
        <div class="d-flex align-items-center">
            <i class="bi bi-graph-up me-3 section-icon"></i>
            <div>
                <h3 class="section-title mb-1">Global Debug Insights</h3>
                <p class="text-muted mb-0">Explore insights extracted from debug data across all conversations</p>
            </div>
        </div>
    </div>
    
    <!-- Stats Summary Cards -->
    <div class="dashboard-row">
        <div class="metrics-grid">
            <div class="metrics-card">
                <div class="metrics-card-header">
                    <span class="metrics-card-title">CATEGORIES</span>
                    <span class="metrics-card-icon">
                        <i class="bi bi-tags"></i>
                    </span>
                </div>
                <div class="metrics-card-value" id="debug-category-count">0</div>
                <div class="metrics-card-label">Unique categories identified</div>
            </div>
            <div class="metrics-card">
                <div class="metrics-card-header">
                    <span class="metrics-card-title">CONCEPTS</span>
                    <span class="metrics-card-icon">
                        <i class="bi bi-grid-3x3"></i>
                    </span>
                </div>
                <div class="metrics-card-value" id="debug-concept-count">0</div>
                <div class="metrics-card-label">Unique concepts extracted</div>
            </div>
            <div class="metrics-card">
                <div class="metrics-card-header">
                    <span class="metrics-card-title">RESTAURANTS</span>
                    <span class="metrics-card-icon">
                        <i class="bi bi-cup-hot"></i>
                    </span>
                </div>
                <div class="metrics-card-value" id="debug-restaurant-count">0</div>
                <div class="metrics-card-label">Unique restaurants mentioned</div>
            </div>
            <div class="metrics-card">
                <div class="metrics-card-header">
                    <span class="metrics-card-title">ASSOCIATIONS</span>
                    <span class="metrics-card-icon">
                        <i class="bi bi-rocket"></i>
                    </span>
                </div>
                <div class="metrics-card-value" id="debug-association-count">0</div>
                <div class="metrics-card-label">Total concept-restaurant links</div>
            </div>
        </div>
    </div>
    
    <!-- Category and Concept Analysis -->
    <div class="dashboard-row two-column">
        <div class="dashboard-card">
            <div class="card-header">
                <h3><i class="bi bi-tags me-2"></i>Top Categories</h3>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="category-distribution-chart"></canvas>
                </div>
            </div>
        </div>
        <div class="dashboard-card">
            <div class="card-header">
                <h3><i class="bi bi-grid-3x3 me-2"></i>Top Concepts</h3>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="concept-distribution-chart"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Restaurant Analysis Section -->
    <div class="dashboard-row two-column">
        <div class="dashboard-card">
            <div class="card-header">
                <h3><i class="bi bi-cup-hot me-2"></i>Top Restaurants</h3>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="restaurant-distribution-chart"></canvas>
                </div>
            </div>
        </div>
        <div class="dashboard-card">
            <div class="card-header">
                <h3><i class="bi bi-tags me-2"></i>Categories & Their Top Restaurants</h3>
            </div>
            <div class="card-body">
                <div class="accordion" id="categoryRestaurantAccordion">
                    <!-- Category-restaurant items will be added here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Network & Relationship Section -->
    <div class="dashboard-row two-column">
        <div class="dashboard-card">
            <div class="card-header">
                <h3><i class="bi bi-graph-up me-2"></i>Top Concept-Restaurant Associations</h3>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover" id="concept-restaurant-table">
                        <thead class="table-light">
                            <tr>
                                <th>Category</th>
                                <th>Concept</th>
                                <th>Restaurant</th>
                                <th>Count</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Associations will be added here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Conversation-level Debug Analysis section -->
    <div class="section-header mt-4">
        <div class="d-flex align-items-center">
            <i class="bi bi-chat-right-text me-3 section-icon"></i>
            <div>
                <h3 class="section-title mb-1">Conversation-level Debug Analysis</h3>
                <p class="text-muted mb-0">Select a conversation to view its debug analysis</p>
            </div>
        </div>
    </div>
    
    <div class="dashboard-row">
        <div class="debug-conversation-grid">
            <div class="debug-sidebar">
                <div class="dashboard-card h-100">
                    <div class="card-header">
                        <h3><i class="bi bi-list-ul me-2"></i>Select Conversation</h3>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush" id="debug-conversation-list">
                            <!-- Conversations will be added here -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="debug-content">
                <div class="dashboard-card d-none h-100" id="debug-conversation-details">
                    <!-- Conversation details will be added here -->
                </div>
                
                <!-- Placeholder when no conversation is selected -->
                <div class="dashboard-card h-100" id="debug-no-conversation-placeholder">
                    <div class="card-body d-flex flex-column align-items-center justify-content-center text-center text-muted">
                        <i class="bi bi-bug mb-3 placeholder-icon"></i>
                        <h5>Select a conversation to view debug analysis</h5>
                        <p>Debug details will appear here</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
